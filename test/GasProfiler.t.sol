// SPDX-License-Identifier: GPL-3.0

pragma solidity 0.8.26;

import { Test, console2 } from "../lib/forge-std/src/Test.sol";

import { GasProfiler } from "../src/GasProfiler.sol";

contract GasProfilerTests is Test, GasProfiler {
    constructor() GasProfiler(address(vm)) {}

    function test_gas_1() external {
        // https://etherscan.io/tx/0x31ad89de81b5e57048f5f36d2a9708f08c0dfd14570ae0a477513ad4a1cb1b55
        vm.prank(0x264a628F8Ac002e827bA8736388e080De82201E9);

        address(0x2fb652314C3d850E9049057bBE9813F1eEe882d3).call(
            hex"095ea7b3000000000000000000000000000000000022d473030f116ddee9f6b43ac78ba3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"
        );

        _profileGasOfLastCall("gas_1");
        _writeGasProfiles("test_gas_1");
    }

    function test_gas_2() external {
        // https://etherscan.io/tx/0x343efee858ef0858cb8702779dd71419d2ddba85c9c77b305816152d270bc12c
        vm.prank(0x34074F4Ce8A9d6c15E7960901DF652CC51984F9B);

        address(0x39053D51B77DC0d36036Fc1fCc8Cb819df8Ef37A).call(
            hex"0dd8dd02000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000034074f4ce8a9d6c15e7960901df652cc51984f9b0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000acb55c530acdb2849e6d4f36992cd8c9d50ed8f700000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000062bd2d6beef14ce60"
        );

        _profileGasOfLastCall("gas_2");
        _writeGasProfiles("test_gas_2");
    }

    function test_gas_3() external {
        // https://etherscan.io/tx/0x59fb67fdf80b567a9a674f687ff0656931854af0f846033ff90d38defa01e0b6
        vm.prank(0xA556Fb07f4F6048B086c8a13001421fF71cD8c87);

        address(0xdAC17F958D2ee523a2206206994597C13D831ec7).call(
            hex"a9059cbb0000000000000000000000001ec58a16b05758ef39cbc9e8be690c6191e1c1d20000000000000000000000000000000000000000000000000000000001908598"
        );

        _profileGasOfLastCall("gas_3");
        _writeGasProfiles("test_gas_3");
    }

    function test_gas_4() external {
        // https://etherscan.io/tx/0xb00c0b0885c8f00a9e6a5ffb83ad3c385bda37464b6bd5e4a84cab992e96c774
        vm.prank(0x578f533873dc8ea60Ab1417180cC531F172EE292);

        address(0x1246cD7784c9600fADC5dFee9120643150726f0e).call(
            hex"391252150000000000000000000000006cf30681ecc54b9ac41c908dc941cbaa68be80dd00000000000000000000000000000000000000000000000000faa911a080d58000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000066f3071b00000000000000000000000000000000000000000000000000000000000009ce00000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041a128f7484358a6f94f645740dfed0e02cdf56c23310fae243d4d5a072e01fc6667f2f6f73f8c9080cf08e8a84269e1c3c932aeb7584aa0fb0713e44bc225b50d1b00000000000000000000000000000000000000000000000000000000000000"
        );

        _profileGasOfLastCall("gas_4");
        _writeGasProfiles("test_gas_4");
    }
}
